https://github.com/mattflow/cbmp